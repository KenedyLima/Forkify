{"mappings":"AAIOA,eAAeC,EAAQC,GAC5B,MAAMC,QAAeD,EAErB,aADmBC,EAAOC,MAE5B,CAEO,SAASC,EAAQC,GACtB,OAAO,IAAIC,SAAQ,SAAUC,EAAGC,GAC9BC,YAAW,WACTD,EAAO,IAAIE,MAAM,wCAAwCL,YAC3D,GAAO,IAAJA,EACL,GACF,CAEO,SAASM,IACd,MAAMC,EAAWC,SAASC,iBAAiB,YAC3C,CAAC,OAAQ,cAAcC,SAAQC,IAC7BC,OAAOC,iBAAiBF,GAAM,WAC5BJ,EAASG,SAAQI,IACfA,EAAQC,UAAUC,OAAO,yBACrBF,EAAQG,SAAS,GAAGC,aAAa,UAAYN,OAAOO,SAASC,MAC/DN,EAAQC,UAAUM,IAAI,2BAG5B,MAEJ,CAEO,SAASC,IACd,MACMf,EADoBC,SAASe,cAAc,cACdd,iBAAiB,YAE9Ce,EAAcjB,EAASA,EAASkB,OAAS,GAC/CC,QAAQC,IAAIH,EACd,CACO,SAASI,EAA8BC,GAC5CC,OAAS,QACTC,SAAW,SACNF,IACHC,OAAS,GACTC,SAAW,IAEb,MAAMC,EAAoBxB,SAASe,cAAc,cACjDS,EAAkBC,MAAMH,OAASA,OACjCE,EAAkBC,MAAMF,SAAWA,QACrC,CCjDe,MAAAG,EACbC,YACEC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAc,IAEbC,KAAKT,UAAYA,EACfS,KAAKR,YAAcA,EACnBQ,KAAKP,WAAaA,EAClBO,KAAKN,UAAYA,EACjBM,KAAKL,UAAYA,EACjBK,KAAKJ,MAAQA,EACbI,KAAKH,WAAaA,EAClBG,KAAKF,cAAgBA,EACrBE,KAAKD,YAAcA,CACxB,CAEAE,cAAcJ,GACZG,KAAKH,WAAaA,CACpB,ECtBF,MAAMK,EAAenC,OAAOoC,aAC5B,IAAIC,EAAY,GACZC,EAAuB,GAEpBxD,eAAeyD,EAAgBC,GACpC,MAAMV,EAoFR,SAAsBU,GACpB,MAAMC,EAAYC,KAAKC,MAAMR,EAAaS,QAAQ,cAClD,IAAId,GAAa,EACjB,IAAKW,IAAcA,EAAU5B,OAAS,EAAG,OAAO,EAChD,IAAK,IAAIgC,KAASJ,EACZA,EAAUI,GAAOlB,YAAca,IACjCV,GAAa,GAIjB,OADAhB,QAAQC,IAAI,iBAAkBe,GACvBA,CACT,CA/FqBgB,CAAaN,GAChC,GAAIV,EACF,OAyEJ,SAAyBU,GACvB,IAAIvD,EAAS,KAKb,OAJAoD,EAAUvC,SAAQiD,IACZA,EAASpB,YAAca,IAAIvD,EAAS8D,EAAA,IAGnC9D,CACT,CAhFW+D,CAAgBR,GAClB,GAAIS,EAA2BT,GACpC,OAAOS,EAA2BT,GAGpC,IACE,MAAMxD,QAAiBK,QAAQ6D,KAAK,CAClCC,MAAM,iDAAiDX,KACvDrD,EClBqB,MDqBjBiE,SADarE,EAAQC,IACPoE,OAEpB,OAAO,IAAI9B,EACT8B,EAAO5B,UACP4B,EAAO3B,YACP2B,EAAO1B,WACP0B,EAAOzB,UACPyB,EAAOxB,UACPwB,EAAOvB,OACP,GACA,EAIJ,CAFE,MAAOwB,GACP,MAAMA,CACR,CACF,CAmCO,SAASC,IAGd,GAFAjB,EAAYK,KAAKC,MAAMR,EAAaS,QAAQ,cAC5C9B,QAAQC,IAAI,eAAgBsB,GACvBA,KAAaA,EAAUxB,OAAS,GAMrC,OAFAC,QAAQC,IAAI,uBAAwBsB,GAE7BA,EALLA,EAAY,EAMhB,CAwBO,SAASkB,EAAaC,GAC3B,MAAM/B,EAqBR,SAA6BgC,GAC3B,MAAMD,EAAOE,OAAOC,QAAQF,GACtBG,EAASJ,EAAKI,QAAOC,GAClB,aAAaC,KAAKD,EAAM,MAE3BpC,EAAcmC,EAAOG,KAAIF,GACtBA,EAAM,KAEf,OAAOpC,CACT,CA9BsBuC,CAAoBR,GAClCJ,EAAS,IAAI9B,EACjBkC,EAAKhC,UACLC,EACA+B,EAAKS,UF1DAC,KAAKC,MAAMC,SAAS,IE4DzBZ,EAAKa,MACLb,EAAK3B,OACL,GACA,GAQF,OALAS,EAAqBgC,KAAKlB,GAC1BjB,EAAaoC,QACX,uBACA7B,KAAK8B,UAAUlC,IAEVc,CACT,CA6BA,SAASH,EAA2BT,GAClC,IAAIvD,EAOJ,OALIqD,GAAwBA,EAAqBzB,OAAS,GACxDyB,EAAqBxC,SAAQsD,IACvBA,EAAOzB,YAAca,IAAIvD,EAASmE,EAAA,IAGnCnE,CACT,CElKe,MAAAwF,EACbC,eAAiB,GACjBC,SAAW,GACXC,cAAgB,GAEhBC,SACE5C,KAAKyC,eAAeI,UAAY,EAClC,CAEAC,gBACE9C,KAAK4C,SAQL5C,KAAKyC,eAAeM,mBAAmB,aAP1B,oLAQf,CACAC,mBACEC,EAAO,sBACPC,EAAUlD,KAAK2C,eAEf,MAAMQ,EAAO,kGAG2BF,2DAG/BC,sBAETlD,KAAK4C,SACL5C,KAAKyC,eAAeM,mBAAmB,aAAcI,EACvD,E,ICiHFC,EAAe,IAlJf,cAAyBZ,EACvBC,eAAiB9E,SAASe,cAAc,WACxCiE,cACE,gEACFU,QACAC,gBACAC,OAAOpC,GACAnB,KAAKqD,UAASrD,KAAKqD,QAAUlC,GAElC,MAAMqC,EAAerC,EAAOtB,WACxB,wCACA,mCAIEsD,EAAO,iDACDhC,EAAOxB,+FAETwB,EAAOvB,4lCAkCfuB,EAAOrB,cAAgB,GAAK,+CAE5BqB,EAAOrB,cA1CiB,uEA0CmB,qFAGdqB,EAAOtB,WAAa,aAAe,4BACjD2D,kMAQbxD,KAAKyD,yBAAyBtC,EAAO3B,qQASrC2B,EAAO5B,+IAMD4B,EAAO1B,mNAUjBO,KAAK4C,SACL5C,KAAKyC,eAAeM,mBAAmB,aAAcI,GACrDnD,KAAKqD,QAAUlC,EACfnB,KAAKsD,gBAAkB3F,SAASe,cAAc,cAChD,CAEAgF,iBAAiBC,GACf,CAAC,OAAQ,cAAc9F,SAAQC,IAC7BC,OAAOC,iBAAiBF,GAAM,SAAU8F,GACtCD,EAAQC,EACV,MAEJ,CAEAC,gBAAgBF,GACd,MAAMxC,EAASnB,KAAKqD,QAEpBrD,KAAKsD,gBAAgBtF,iBAAiB,SAAS,SAAU4F,GACvD,MAAME,EAAiBF,EAAEG,OAAOC,QAAQ,eACxC,GAAIF,EAAgB,CAClB,MAAMb,EAAOa,EAAe1F,SAAS,GACrC,IAAI6F,EACApE,GAAa,EAEboD,EAAK/E,UAAUgG,SAAS,cAC1BD,EAAO,oCAEPA,EAAO,wCACPpE,GAAa,GAGfoD,EAAK/E,UAAUiG,OAAO,cACtBlB,EAAK7E,SAAS,GAAGgG,aAAa,OAAQH,GACtCN,EAAQxC,EAAQtB,EAClB,CACF,GACF,CAEA4D,yBAAyBjE,GAcvB,OAbaA,EACVsC,KAAI,SAAUuC,GACb,MAAO,wOAMCA,wCAGV,IACCC,KAAK,GAEV,G,IC9HFC,EAAe,IAjBf,cAAyB/B,EACvBC,eAAiB9E,SAASe,cAAc,WAExC8F,iBAAiBb,GACf3D,KAAKyC,eAAezE,iBAAiB,UAAU,SAAU4F,GACvDA,EAAEa,iBACFd,GACF,GACF,CAEAe,WACE,MAAMC,EAAQ3E,KAAKyC,eAAe/D,cAAc,kBAAkBkG,MAElE,OADA5E,KAAKyC,eAAe/D,cAAc,kBAAkBkG,MAAQ,GACrDD,CACT,GChBK,SAASE,EAA0BC,GACxC,OAAKA,EACEA,EACJhD,KAAIX,GACI,oEACgCA,EAAOzB,mFAE1ByB,EAAOxB,sIAGUwB,EAAOvB,2DACJuB,EAAO5B,qEAKhD+E,KAAK,IAfa,EAgBvB,C,ICuFAS,EAAe,IAtGf,cAA0BvC,EAExBC,eAAiB9E,SAASe,cAAc,YACxCiE,cACE,sEAEFqC,mBAAqB,GACrBC,SACAC,YACAC,aAEA5B,OAAOuB,GACL,IAAI3B,EAAO,GAEXnD,KAAKiF,SAAWH,EAChB9E,KAAKkF,YAAclF,KAAKoF,wBAEnBpF,KAAKkF,YAAc,EACtB/B,EAAO0B,EAA2CC,IAGlD3B,EAAOnD,KAAKqF,yBACZrF,KAAKsF,6BACLtF,KAAKuF,qBAEPvF,KAAK4C,SACL5C,KAAKyC,eAAeM,mBAAmB,aAAcI,EACvD,CAEAiC,uBAEE,OADcI,KAAKC,KAAKzF,KAAKiF,SAASrG,OAAS,GAEjD,CAEA2G,oBACE,MAAMG,EAAc1F,KACpBA,KAAKgF,mBAAmBnH,SAAQ8H,IAC9BA,EAAO3H,iBAAiB,SAAS,SAAU4F,GAEvCA,EAAEG,OACCC,QAAQ,gBACR9F,UAAUgG,SAAS,yBAEtBwB,EAAYP,eAEZvB,EAAEG,OACCC,QAAQ,gBACR9F,UAAUgG,SAAS,0BAEtBwB,EAAYP,eAEdO,EAAYnC,OAAOmC,EAAYT,SACjC,MAEJ,CAEAK,6BACE,MAAMM,EAAajI,SAASe,cAAc,eAC1C,IAAIyE,EAAO,GAEX,MAAM0C,EAAO,8EAEE7F,KAAKmF,aAAe,0IAK7BW,EAAO,+KAIA9F,KAAKmF,aAAe,wBAG/BhC,EADwB,IAAtBnD,KAAKmF,aACAU,EACE7F,KAAKmF,eAAiBnF,KAAKkF,YAC7BY,EAEA,GAAGA,IAAOD,IAGnBD,EAAW/C,UAAY,GACvB+C,EAAW7C,mBAAmB,aAAcI,GAE5CnD,KAAKgF,mBAAqBrH,SAASC,iBAAiB,eACtD,CAEAyH,yBACOrF,KAAKmF,eAAcnF,KAAKmF,aAAe,GAC5C,MAAMY,EAA4B,GAApB/F,KAAKmF,aAAoB,GACjCa,EAA0B,GAApBhG,KAAKmF,aAIjB,OAHaN,EACX7E,KAAKiF,SAASgB,MAAMF,EAAOC,GAG/B,CAEAhD,qBACEkD,MAAMlD,qBACNrF,SAASe,cAAc,eAAemE,UAAY,EACpD,G,ICrEFsD,EAAe,IA3Bf,cAA2B3D,EACzBC,eAAiB9E,SAASe,cAAc,oBACxCgE,SAAW,0DAEXa,OAAO/C,GACL,MAAM2C,EAAO0B,EAA2CrE,GACxDR,KAAK4C,SACL5C,KAAKyC,eAAeM,mBAAmB,aAAcI,GAGhD3C,GAAkC,IAArBA,EAAU5B,QAC1BoB,KAAKgD,mBAAmB,aAAchD,KAAK0C,UAGzClC,GAAaA,EAAU5B,QAAU,EACnCG,GAA8B,GAE9BA,GAA8B,GAGhC,IAAIqH,EAAQ,EACC,GAATA,GAAY3H,IAChB2H,GAAgB,EAChBvH,QAAQC,IAAIsH,EACd,G,ICkBFC,EAAe,IAhDf,MACE5D,eAAiB9E,SAASe,cAAc,sBAExC4H,kBACE,MAAMX,EAAShI,SAASe,cAAc,yBAChC6H,EAAkBvG,KAAKyC,eACvB+D,EAAU7I,SAASe,cAAc,YACvCiH,EAAO3H,iBAAiB,SAAS,SAAU4F,GACzC2C,EAAgBrI,UAAUiG,OAAO,UACjCqC,EAAQtI,UAAUiG,OAAO,SAC3B,GACF,CAEAsC,oBACE,MAAMC,EAAc/I,SAASe,cAAc,qBACrCiI,EAAO3G,KAAKyC,eACZ+D,EAAU7I,SAASe,cAAc,YACvC,CAACgI,EAAaF,GAAS3I,SAAQ+I,IAC7BA,EAAQ5I,iBAAiB,SAAS,SAAU4F,GAC1C+C,EAAKzI,UAAUiG,OAAO,UACtBqC,EAAQtI,UAAUiG,OAAO,SAC3B,MAEJ,CAEA0C,eACiB7G,KAAKyC,eAAe7E,iBAAiB,SAE7CC,SAAQiJ,IACbA,EAAMlC,MAAQ,KAElB,CACAmC,mBAAmBpD,GACjB,MAAM4C,EAAkBvG,KAAKyC,eACvB+D,EAAU7I,SAASe,cAAc,YACjCiI,EAAO3G,KAAKyC,eAClB8D,EACG7H,cAAc,WACdV,iBAAiB,UAAU,SAAU4F,GACpC,MAAMrC,EAAOE,OAAOuF,YAAY,IAAIC,SAASrD,EAAEG,QAAQrC,WACvDkC,EAAEa,iBACFkC,EAAKzI,UAAUM,IAAI,UACnBgI,EAAQtI,UAAUM,IAAI,UACtBmF,EAAQpC,EACV,GACJ,GC/BF1E,eAAeqK,IACb,MAAMC,EXdCpJ,OAAOO,SAASC,KAAK6I,UAAU,GWetC,IAAIjG,EACJ,GAAKgG,EAEL,IAEE/D,EAAWN,gBAGX3B,QAAeb,EAAsB6G,GAGrC/D,EAAWG,OAAOpC,GAClBiC,EAAWS,gBAAgBwD,EAK7B,CAJE,MAAOjG,GACPvC,QAAQC,IAAIsC,GAEZgC,EAAWJ,oBACb,CACF,CAEAnG,eAAeyK,IACb,IAEE,MAAM3C,EAAQJ,EAAWG,WACzB,GAAc,KAAVC,EAAc,MAAM,IAAInH,MAAM,yBAClCuH,EAAYjC,gBAGZ,MAAMvB,QTNH1E,eAA4B8H,GACjC,IAKE,OAAO7H,QAJgBM,QAAQ6D,KAAK,CAClCC,MAAM,kDAAkDyD,KACxDzH,EC1CqB,MD+CzB,CAFE,MAAOkE,GACP,MAAMA,CACR,CACF,CSJuBmG,CAAmB5C,GACtC9F,QAAQC,IAAIyC,GACZ,MAAMiG,ETmGH,SAAmC7C,GACxC,GAAItE,GAAwBA,EAAqBzB,OAAS,EACxD,OAAOyB,EAAqBsB,QAAOR,IACjC,GAAIA,EAAOvB,MAAM6H,cAAcC,QAAQ/C,EAAM8C,gBAAiB,EAC5D,OAAO,CAAI,GAEnB,CSzGqBE,CAAgChD,GAC3CG,EAAU,GAKhB,GAJI0C,GAAUA,EAAS3J,SAAQsD,GAAU2D,EAAQzC,KAAKlB,KAClDI,EAAKuD,SACPvD,EAAKuD,QAAQjH,SAAQsD,GAAU2D,EAAQzC,KAAKlB,MAEzC2D,EAAQlG,OAAS,EAAG,MAAM,IAAIpB,MAEnCuH,EAAYxB,OAAOuB,GAGnBrH,GAKF,CAJE,MAAO2D,GACPvC,QAAQC,IAAIsC,GAEZ2D,EAAY/B,oBACd,CACF,CAEA,SAASqE,EAAiBlG,EAAQtB,GAChC,IAAIW,EAEFA,EADEX,ETlBC,SAAqBsB,GAM1B,OALAA,EAAOtB,YAAa,EACpBhB,QAAQC,IAAIsB,GACZA,EAAUiC,KAAKlB,GACfjB,EAAaoC,QAAQ,YAAa7B,KAAK8B,UAAUnC,IAE1CA,CACT,CSYgBwH,CAAkBzG,GTV3B,SAAwBA,GAC7B,IAAI0G,EACJ,IAAK,IAAIjH,KAASR,EACZA,EAAUQ,GAAOlB,YAAcyB,EAAOzB,YACxCmI,EAAWjH,GAMf,OAHAR,EAAU0H,OAAOD,EAAU,GAC3B3H,EAAaoC,QAAQ,YAAa7B,KAAK8B,UAAUnC,IAE1CA,CACT,CSCgB2H,CAAqB5G,GAEnCgF,EAAa5C,OAAO/C,GACpB/C,GACF,CAEA,SAASuK,EAAqBzG,GAC5B,MAAMJ,EAASG,EAAmBC,GAClC6B,EAAWG,OAAOpC,EACpB,EAEC,iBACCtC,QAAQC,IAAIuC,KACZ8E,EAAa5C,OAAOlC,KACpB+B,EAAWM,iBAAiBwD,GAC5B3C,EAAWC,iBAAiB8C,GAC5BjB,EAAcC,kBACdD,EAAcI,oBACdJ,EAAcU,mBAAmBiB,GACjCvK,ITkDA4C,EAAuBI,KAAKC,MAC1BR,EAAaS,QAAQ,yBAElBN,IAAsBA,EAAuB,GSnDpD,EAVC","sources":["src/js/helpers.js","src/js/recipe.js","src/js/model.js","src/js/config.js","src/js/views/view.js","src/js/views/recipeView.js","src/js/views/searchView.js","src/js/views/recipePreviewGenerator.js","src/js/views/resultsView.js","src/js/views/bookmarkView.js","src/js/views/addRecipeView.js","src/js/controller.js"],"sourcesContent":["export function getRecipeIdFromHash() {\n  return window.location.hash.substring(1);\n}\n\nexport async function getJson(response) {\n  const result = await response;\n  const data = await result.json();\n  return data;\n}\n\nexport function timeout(s) {\n  return new Promise(function (_, reject) {\n    setTimeout(function () {\n      reject(new Error(`Request took too long! Timeout after ${s} second`));\n    }, s * 10000);\n  });\n}\n\nexport function handleActiveRecipe() {\n  const previews = document.querySelectorAll('.preview');\n  ['load', 'hashchange'].forEach(type => {\n    window.addEventListener(type, function () {\n      previews.forEach(preview => {\n        preview.classList.remove('preview__link--active');\n        if (preview.children[0].getAttribute('href') === window.location.hash) {\n          preview.classList.add('preview__link--active');\n        }\n      });\n    });\n  });\n}\n\nexport function addActiveClassToLastBookmark() {\n  const bookmarkContainer = document.querySelector('.bookmarks');\n  const previews = bookmarkContainer.querySelectorAll('.preview');\n\n  const lastElement = previews[previews.length - 1];\n  console.log(lastElement);\n}\nexport function updateBookmarkContainerStyles(update) {\n  height = '46rem';\n  overflow = 'scroll';\n  if (!update) {\n    height = '';\n    overflow = '';\n  }\n  const bookmarkContainer = document.querySelector('.bookmarks');\n  bookmarkContainer.style.height = height;\n  bookmarkContainer.style.overflow = overflow;\n}\n\nexport function generateRecipeId() {\n  return Date.now().toString(36);\n}\n// updateServings(updateTo, recipeServings = 4) {\n//   /*Creates the fraction that each ingredient is going to be multiplied by*/\n//   const multiplyBy = new Fraction(updateTo, recipeServings);\n//   console.log('MultiplyBy: ', multiplyBy);\n\n//   let result;\n//   const amountsArray = this._getAmounts(this._recipe.ingredients);\n\n//   /*Loop through  amounts array and peform calculations*/\n//   result = amountsArray.map(array => {\n//     const arrayLength = array.length;\n//     let fraction = null;\n//     let amount = '';\n//     /* */\n//     if (arrayLength === 1) {\n//       fraction = new Fraction(array[0]);\n//       amount = fraction.mul(multiplyBy);\n//       if (this._isWholeInteger(fraction)) {\n//         amount = fraction.n / fraction.d;\n//       }\n//     } else {\n//       array.forEach(element => {});\n//     }\n\n//     return result;\n//   });\n// }\n\n/*checks whether a fraction results a whole integer or not */\n// _isWholeInteger(fraction) {\n//   const string = String(fraction.n / fraction.d);\n//   if (string.indexOf('.') > -1) {\n//     return false;\n//   }\n//   return true;\n// }\n\n// _getAmounts(array) {\n//   let temp = null;\n\n//   /*Split the array of strings*/\n//   array = this._splitArrayOfStrings(array, ' ');\n//   /*Now array variable is an array of arrays */\n\n//   /* Check for elements in the pool of arrays that has any number  : array*/\n//   temp = array\n//     .map(array => {\n//       return this._checkForNumber(array);\n//     })\n//     /*Check between the elements for '(' and removes it  : array*/\n//     .map(array => {\n//       return array.map(el => {\n//         return el.split('(').join('');\n//       });\n//     });\n//   /* Check for elements in the pool of arrays has hifen and takes only the number : array*/\n//   temp.forEach(array => {\n//     array = this._checkForLetter(array);\n//   });\n\n//   return temp;\n// }\n\n// _splitArrayOfStrings(array, regex) {\n//   return array.map(string => {\n//     return string.split(regex);\n//   });\n// }\n\n// _checkForLetter(array) {\n//   array.forEach(element => {\n//     if (/[a-zA-Z]/.test(element)) {\n//       const wordsArray = this._splitArrayOfStrings([element], '-');\n//       console.log('wordsArray', wordsArray);\n\n//       element = wordsArray.filter(word => {\n//         return !Number.isNaN(Number(word));\n//       });\n//       console.log('Element', element);\n//     }\n//   });\n// }\n\n// _checkForNumber(array) {\n//   const result = array.filter(element => {\n//     return /\\d/.test(element);\n//   });\n//   return result;\n// }\n","export default class Recipe {\n  constructor(\n    publisher,\n    ingredients,\n    source_url,\n    recipe_id,\n    image_url,\n    title,\n    bookmarked,\n    userGenerated,\n    cookingTime = 50\n  ) {\n    (this.publisher = publisher),\n      (this.ingredients = ingredients),\n      (this.source_url = source_url),\n      (this.recipe_id = recipe_id),\n      (this.image_url = image_url),\n      (this.title = title),\n      (this.bookmarked = bookmarked),\n      (this.userGenerated = userGenerated),\n      (this.cookingTime = cookingTime);\n  }\n\n  setBookmarked(bookmarked) {\n    this.bookmarked = bookmarked;\n  }\n}\n","import { generateRecipeId, getJson, timeout } from './helpers.js';\nimport { TIMEOUT_SEC } from './config.js';\nimport Recipe from './recipe.js';\nconst localStorage = window.localStorage;\nlet bookmarks = [];\nlet userGeneratedRecipes = [];\n\nexport async function queryRecipeById(id) {\n  const bookmarked = isBookmarked(id);\n  if (bookmarked) {\n    return getBookmarkById(id);\n  } else if (getUserGeneratedRecipeById(id)) {\n    return getUserGeneratedRecipeById(id);\n  }\n\n  try {\n    const response = await Promise.race([\n      fetch(`https://forkify-api.herokuapp.com/api/get?rId=${id}`),\n      timeout(TIMEOUT_SEC),\n    ]);\n    const data = await getJson(response);\n    const recipe = data.recipe;\n\n    return new Recipe(\n      recipe.publisher,\n      recipe.ingredients,\n      recipe.source_url,\n      recipe.recipe_id,\n      recipe.image_url,\n      recipe.title,\n      false,\n      true\n    );\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function queryRecipes(query) {\n  try {\n    const response = await Promise.race([\n      fetch(`https://forkify-api.herokuapp.com/api/search?q=${query}`),\n      timeout(TIMEOUT_SEC),\n    ]);\n    return getJson(response);\n  } catch (error) {\n    throw error;\n  }\n}\nexport function addBookmark(recipe) {\n  recipe.bookmarked = true;\n  console.log(bookmarks);\n  bookmarks.push(recipe);\n  localStorage.setItem('bookmarks', JSON.stringify(bookmarks));\n\n  return bookmarks;\n}\n\nexport function removeBookmark(recipe) {\n  let position;\n  for (let index in bookmarks) {\n    if (bookmarks[index].recipe_id === recipe.recipe_id) {\n      position = index;\n    }\n  }\n  bookmarks.splice(position, 1);\n  localStorage.setItem('bookmarks', JSON.stringify(bookmarks));\n\n  return bookmarks;\n}\n\nexport function getBookmarks() {\n  bookmarks = JSON.parse(localStorage.getItem('bookmarks'));\n  console.log('after json: ', bookmarks);\n  if (!bookmarks || bookmarks.length < 1) {\n    bookmarks = [];\n    return;\n  }\n  console.log('Initing bookmarks...', bookmarks);\n\n  return bookmarks;\n}\n\nfunction getBookmarkById(id) {\n  let result = null;\n  bookmarks.forEach(bookmark => {\n    if (bookmark.recipe_id === id) result = bookmark;\n  });\n\n  return result;\n}\n\nfunction isBookmarked(id) {\n  const bookmarks = JSON.parse(localStorage.getItem('bookmarks'));\n  let bookmarked = false;\n  if (!bookmarks || !bookmarks.length > 0) return false;\n  for (let index in bookmarks) {\n    if (bookmarks[index].recipe_id === id) {\n      bookmarked = true;\n    }\n  }\n  console.log('IsBookmarked: ', bookmarked);\n  return bookmarked;\n}\n\nexport function submitRecipe(data) {\n  const ingredients = getIngredientsArray(data);\n  const recipe = new Recipe(\n    data.publisher,\n    ingredients,\n    data.sourceUrl,\n    generateRecipeId(),\n    data.image,\n    data.title,\n    false,\n    true\n  );\n\n  userGeneratedRecipes.push(recipe);\n  localStorage.setItem(\n    'userGeneratedRecipes',\n    JSON.stringify(userGeneratedRecipes)\n  );\n  return recipe;\n}\n// Object { title: \"dwdw\", sourceUrl: \"wdwd\", image: \"dwwd\", publisher: \"wdwd\", cookingTime: \"5\", servings: \"5\", \"ingredient-1\": \"wdwd\", \"ingredient-2\": \"\", \"ingredient-3\": \"\", \"ingredient-4\": \"\", â€¦ }\n\nfunction getIngredientsArray(obj) {\n  const data = Object.entries(obj);\n  const filter = data.filter(array => {\n    return /ingredient/.test(array[0]);\n  });\n  const ingredients = filter.map(array => {\n    return array[1];\n  });\n  return ingredients;\n}\n\nexport function loadUserGeneratedRecipes() {\n  userGeneratedRecipes = JSON.parse(\n    localStorage.getItem('userGeneratedRecipes')\n  );\n  if (!userGeneratedRecipes) userGeneratedRecipes = [];\n}\n\nexport function queryUserGeneratedRecipes(query) {\n  if (userGeneratedRecipes && userGeneratedRecipes.length > 0)\n    return userGeneratedRecipes.filter(recipe => {\n      if (recipe.title.toLowerCase().indexOf(query.toLowerCase()) > -1)\n        return true;\n    });\n}\n\nfunction getUserGeneratedRecipeById(id) {\n  let result;\n\n  if (userGeneratedRecipes && userGeneratedRecipes.length > 0)\n    userGeneratedRecipes.forEach(recipe => {\n      if (recipe.recipe_id === id) result = recipe;\n    });\n\n  return result;\n}\n","export const TIMEOUT_SEC = 10;\n","export default class View {\n  _parentElement = '';\n  _message = '';\n  _errorMessage = '';\n\n  _clean() {\n    this._parentElement.innerHTML = '';\n  }\n\n  renderSpinner() {\n    this._clean();\n    const html = `\n            <div class=\"spinner\">\n              <svg>\n                <use href=\"icons.21bad73c.svg#icon-loader\"></use>\n              </svg>\n            </div>\n          `;\n    this._parentElement.insertAdjacentHTML('afterbegin', html);\n  }\n  renderErrorMessage(\n    icon = 'icon-alert-triangle',\n    message = this._errorMessage\n  ) {\n    const html = `<div class=\"error\">\n        <div>\n          <svg>\n            <use href=\"icons.21bad73c.svg#${icon}\"></use>\n          </svg>\n        </div>\n        <p>${message}</p>\n      </div>`;\n    this._clean();\n    this._parentElement.insertAdjacentHTML('afterbegin', html);\n  }\n}\n","import View from './view.js';\nclass RecipeView extends View {\n  _parentElement = document.querySelector('.recipe');\n  _errorMessage =\n    'Could not find a recipe with this id. Please try another one!';\n  _recipe;\n  _bookmarkButton;\n  render(recipe) {\n    if (!this._recipe) this._recipe = recipe;\n\n    const bookmarkIcon = recipe.bookmarked\n      ? 'icons.21bad73c.svg#icon-bookmark-fill'\n      : 'icons.21bad73c.svg#icon-bookmark';\n    const userGeneratedHTML = `<svg>\n    <use href=\"icons.21bad73c.svg#icon-user\"></use>\n  </svg>`;\n    const html = `  <figure class=\"recipe__fig\">\n    <img src=\"${recipe.image_url}\" alt=\"Tomato\" class=\"recipe__img\" />\n    <h1 class=\"recipe__title\">\n      <span>${recipe.title}</span>\n    </h1>\n  </figure>\n  \n  <div class=\"recipe__details\">\n    <div class=\"recipe__info\">\n      <svg class=\"recipe__info-icon\">\n        <use href=\"icons.21bad73c.svg#icon-clock\"></use>\n      </svg>\n      <span class=\"recipe__info-data recipe__info-data--minutes\">${50}</span>\n      <span class=\"recipe__info-text\">minutes</span>\n    </div>\n    <div class=\"recipe__info\">\n      <svg class=\"recipe__info-icon\">\n        <use href=\"icons.21bad73c.svg#icon-users\"></use>\n      </svg>\n      <span class=\"recipe__info-data recipe__info-data--people\">4</span>\n      <span class=\"recipe__info-text\">servings</span>\n  \n      <div class=\"recipe__info-buttons\">\n        <button class=\"btn--tiny btn--increase-servings\">\n          <svg>\n            <use href=\"icons.21bad73c.svg#icon-minus-circle\"></use>\n          </svg>\n        </button>\n        <button class=\"btn--tiny btn--increase-servings\">\n          <svg \">\n            <use href=\"icons.21bad73c.svg#icon-plus-circle\"></use>\n          </svg>\n        </button>\n      </div>\n    </div>\n  \n    <div class=\"recipe__user-generated\" ${\n      recipe.userGenerated ? '' : \"style = 'background-color:#f9f5f3;'\"\n    }>\n    ${recipe.userGenerated ? userGeneratedHTML : ''}\n    </div>\n    <button class=\"btn--round\">\n      <svg class=\"bookmark--icon ${recipe.bookmarked ? 'bookmarked' : ''}\">\n        <use href=\"${bookmarkIcon}\"></use>\n      </svg>\n    </button>\n  </div>\n  \n  <div class=\"recipe__ingredients\">\n    <h2 class=\"heading--2\">Recipe ingredients</h2>\n    <ul class=\"recipe__ingredient-list\">\n      ${this._generateIngredientsHTML(recipe.ingredients)}\n    </ul>\n  </div>\n  \n  <div class=\"recipe__directions\">\n    <h2 class=\"heading--2\">How to cook it</h2>\n    <p class=\"recipe__directions-text\">\n      This recipe was carefully designed and tested by\n      <span class=\"recipe__publisher\">${\n        recipe.publisher\n      }</span>. Please check out\n      directions at their website.\n    </p>\n    <a\n      class=\"btn--small recipe__btn\"\n      href=\"${recipe.source_url}\"\n      target=\"_blank\"\n    >\n      <span>Directions</span>\n      <svg class=\"search__icon\">\n        <use href=\"icons.21bad73c.svg#icon-arrow-right\"></use>\n      </svg>\n    </a>\n  </div>\n  `;\n    this._clean();\n    this._parentElement.insertAdjacentHTML('afterbegin', html);\n    this._recipe = recipe;\n    this._bookmarkButton = document.querySelector('.btn--round');\n  }\n\n  addHandlerRender(handler) {\n    ['load', 'hashchange'].forEach(type => {\n      window.addEventListener(type, function (e) {\n        handler(e);\n      });\n    });\n  }\n\n  handleBookmarks(handler) {\n    const recipe = this._recipe;\n\n    this._bookmarkButton.addEventListener('click', function (e) {\n      const bookmarkButton = e.target.closest('.btn--round');\n      if (bookmarkButton) {\n        const icon = bookmarkButton.children[0];\n        let href;\n        let bookmarked = false;\n\n        if (icon.classList.contains('bookmarked')) {\n          href = 'icons.21bad73c.svg#icon-bookmark';\n        } else {\n          href = 'icons.21bad73c.svg#icon-bookmark-fill';\n          bookmarked = true;\n        }\n\n        icon.classList.toggle('bookmarked');\n        icon.children[0].setAttribute('href', href);\n        handler(recipe, bookmarked);\n      }\n    });\n  }\n\n  _generateIngredientsHTML(ingredients) {\n    const html = ingredients\n      .map(function (ingredient) {\n        return `<li class=\"recipe__ingredient\">\n            <svg class=\"recipe__icon\">\n              <use href=\"icons.21bad73c.svg#icon-check\"></use>\n            </svg>\n            <div class=\"recipe__description\">\n         \n              ${ingredient}\n            </div>\n          </li>`;\n      })\n      .join('');\n    return html;\n  }\n}\nexport default new RecipeView();\n","import View from './view.js';\n\nclass SearchView extends View {\n  _parentElement = document.querySelector('.search');\n\n  addHandlerSearch(handler) {\n    this._parentElement.addEventListener('submit', function (e) {\n      e.preventDefault();\n      handler();\n    });\n  }\n\n  getquery() {\n    const query = this._parentElement.querySelector('.search__field').value;\n    this._parentElement.querySelector('.search__field').value = '';\n    return query;\n  }\n}\n\nexport default new SearchView();\n","export function generateRecipePreviewHTML(recipes) {\n  if (!recipes) return '';\n  return recipes\n    .map(recipe => {\n      return `<li class=\"preview\">\n          <a class=\"preview__link \" href=\"#${recipe.recipe_id}\">\n            <figure class=\"preview__fig\">\n              <img src=\"${recipe.image_url}\" alt=\"Test\" />\n            </figure>\n            <div class=\"preview__data\">\n              <h4 class=\"preview__title\">${recipe.title}</h4>\n              <p class=\"preview__publisher\">${recipe.publisher}</p>\n            </div>\n          </a>\n        </li>`;\n    })\n    .join('');\n}\n","import View from './view.js';\nimport * as previewGenerator from './recipePreviewGenerator.js';\nclass ResultsView extends View {\n  //'Comming' from View\n  _parentElement = document.querySelector('.results');\n  _errorMessage =\n    'Could not find any recipe for that query. Please try another one ;)';\n\n  _paginationButtons = '';\n  _recipes;\n  _totalPages;\n  _currentPage;\n\n  render(recipes) {\n    let html = '';\n\n    this._recipes = recipes;\n    this._totalPages = this._calculatePagination();\n    //1) Case the recipe array length is lesser than 10\n    if (!this._totalPages > 1) {\n      html = previewGenerator.generateRecipePreviewHTML(recipes);\n      //2) Case recipe array length is bigger than 10\n    } else {\n      html = this._getCurrentRecipesHTML();\n      this._generatePaginationButtons();\n      this._handlePagination();\n    }\n    this._clean();\n    this._parentElement.insertAdjacentHTML('afterbegin', html);\n  }\n\n  _calculatePagination() {\n    const pages = Math.ceil(this._recipes.length / 10);\n    return pages;\n  }\n\n  _handlePagination() {\n    const resultsView = this;\n    this._paginationButtons.forEach(button => {\n      button.addEventListener('click', function (e) {\n        if (\n          e.target\n            .closest('.btn--inline')\n            .classList.contains('pagination__btn--prev')\n        ) {\n          resultsView._currentPage--;\n        } else if (\n          e.target\n            .closest('.btn--inline')\n            .classList.contains('pagination__btn--next')\n        ) {\n          resultsView._currentPage++;\n        }\n        resultsView.render(resultsView._recipes);\n      });\n    });\n  }\n\n  _generatePaginationButtons() {\n    const pagination = document.querySelector('.pagination');\n    let html = '';\n\n    const next = `\n    <button class=\"btn--inline pagination__btn--next\">\n      <span>Page ${this._currentPage + 1}</span>\n      <svg class=\"search__icon\">\n        <use href=\"icons.21bad73c.svg#icon-arrow-right\"></use>\n      </svg>\n    </button>`;\n    const prev = `<button class=\"btn--inline pagination__btn--prev\">\n    <svg class=\"search__icon\">\n      <use href=\"icons.21bad73c.svg#icon-arrow-left\"></use>\n    </svg>\n    <span>Page ${this._currentPage - 1}</span>\n  </button>`;\n    if (this._currentPage === 1) {\n      html = next;\n    } else if (this._currentPage === this._totalPages) {\n      html = prev;\n    } else {\n      html = `${prev}${next}`;\n    }\n\n    pagination.innerHTML = '';\n    pagination.insertAdjacentHTML('afterbegin', html);\n\n    this._paginationButtons = document.querySelectorAll('.btn--inline');\n  }\n\n  _getCurrentRecipesHTML() {\n    if (!this._currentPage) this._currentPage = 1;\n    const start = this._currentPage * 10 - 10;\n    const end = this._currentPage * 10;\n    const html = previewGenerator.generateRecipePreviewHTML(\n      this._recipes.slice(start, end)\n    );\n    return html;\n  }\n\n  renderErrorMessage() {\n    super.renderErrorMessage();\n    document.querySelector('.pagination').innerHTML = '';\n  }\n}\nexport default new ResultsView();\n","import * as previewGenerator from './recipePreviewGenerator.js';\nimport {\n  updateBookmarkContainerStyles,\n  addActiveClassToLastBookmark,\n} from '../helpers.js';\nimport View from './view.js';\nclass BookmarkView extends View {\n  _parentElement = document.querySelector('.bookmarks__list');\n  _message = 'No bookmarks yet. Find a nice recipe and bookmark it :)';\n\n  render(bookmarks) {\n    const html = previewGenerator.generateRecipePreviewHTML(bookmarks);\n    this._clean();\n    this._parentElement.insertAdjacentHTML('afterbegin', html);\n\n    //Rendering message if theres no bookmark\n    if (!bookmarks || bookmarks.length === 0)\n      this.renderErrorMessage('icon-smile', this._message);\n\n    //Checking bookmark length to implement the scroll bar\n    if (bookmarks && bookmarks.length >= 5) {\n      updateBookmarkContainerStyles(true);\n    } else {\n      updateBookmarkContainerStyles(false);\n    }\n    //adding active class to the last bookmark added\n    let count = 0;\n    if (count != 0) addActiveClassToLastBookmark();\n    count = count + 1;\n    console.log(count);\n  }\n}\n\nexport default new BookmarkView();\n","class AddRecipeView {\n  _parentElement = document.querySelector('.add-recipe-window');\n\n  handleAddRecipe() {\n    const button = document.querySelector('.nav__btn--add-recipe');\n    const addRecipeWindow = this._parentElement;\n    const overlay = document.querySelector('.overlay');\n    button.addEventListener('click', function (e) {\n      addRecipeWindow.classList.toggle('hidden');\n      overlay.classList.toggle('hidden');\n    });\n  }\n\n  handleCloseButton() {\n    const closeButton = document.querySelector('.btn--close-modal');\n    const form = this._parentElement;\n    const overlay = document.querySelector('.overlay');\n    [closeButton, overlay].forEach(element => {\n      element.addEventListener('click', function (e) {\n        form.classList.toggle('hidden');\n        overlay.classList.toggle('hidden');\n      });\n    });\n  }\n\n  _clearInputs() {\n    const inputs = this._parentElement.querySelectorAll('input');\n\n    inputs.forEach(input => {\n      input.value = '';\n    });\n  }\n  handleRecipeUpload(handler) {\n    const addRecipeWindow = this._parentElement;\n    const overlay = document.querySelector('.overlay');\n    const form = this._parentElement;\n    addRecipeWindow\n      .querySelector('.upload')\n      .addEventListener('submit', function (e) {\n        const data = Object.fromEntries(new FormData(e.target).entries());\n        e.preventDefault();\n        form.classList.add('hidden');\n        overlay.classList.add('hidden');\n        handler(data);\n      });\n  }\n}\n\nexport default new AddRecipeView();\n","import { getRecipeIdFromHash, handleActiveRecipe } from './helpers.js';\nimport * as model from './model.js';\nimport recipeView from './views/recipeView.js';\nimport searchView from './views/searchView.js';\nimport resultsView from './views/resultsView.js';\nimport bookmarkView from './views/bookmarkView.js';\nimport addRecipeView from './views/addRecipeView.js';\n// https://forkify-api.herokuapp.com/v2\n\nif (module.hot) {\n  module.hot.accept();\n}\n\n///////////////////////////////////////\nasync function controlRecipes() {\n  const recipeId = getRecipeIdFromHash();\n  let recipe;\n  if (!recipeId) return;\n\n  try {\n    //1)Render Spinner\n    recipeView.renderSpinner();\n\n    //2)Get Recipe Data From Model\n    recipe = await model.queryRecipeById(recipeId);\n\n    //3)Render Recipe Data On Recipe View\n    recipeView.render(recipe);\n    recipeView.handleBookmarks(controlBookmarks);\n  } catch (error) {\n    console.log(error);\n\n    recipeView.renderErrorMessage();\n  }\n}\n\nasync function controlQueries() {\n  try {\n    //1)Get query from search field\n    const query = searchView.getquery();\n    if (query === '') throw new Error('Search field is empty');\n    resultsView.renderSpinner();\n\n    //2)queryRecipes from API\n    const data = await model.queryRecipes(query);\n    console.log(data);\n    const userData = model.queryUserGeneratedRecipes(query);\n    const recipes = [];\n    if (userData) userData.forEach(recipe => recipes.push(recipe));\n    if (data.recipes) {\n      data.recipes.forEach(recipe => recipes.push(recipe));\n    }\n    if (!recipes.length > 0) throw new Error();\n    //3)Render recipes in resultsView\n    resultsView.render(recipes);\n\n    //4)Handle active recipe\n    handleActiveRecipe();\n  } catch (error) {\n    console.log(error);\n\n    resultsView.renderErrorMessage();\n  }\n}\n\nfunction controlBookmarks(recipe, bookmarked) {\n  let bookmarks;\n  if (bookmarked) {\n    bookmarks = model.addBookmark(recipe);\n  } else {\n    bookmarks = model.removeBookmark(recipe);\n  }\n  bookmarkView.render(bookmarks);\n  handleActiveRecipe();\n}\n\nfunction controlRecipeUploads(data) {\n  const recipe = model.submitRecipe(data);\n  recipeView.render(recipe);\n}\n\n(async function init() {\n  console.log(model.getBookmarks());\n  bookmarkView.render(model.getBookmarks());\n  recipeView.addHandlerRender(controlRecipes);\n  searchView.addHandlerSearch(controlQueries);\n  addRecipeView.handleAddRecipe();\n  addRecipeView.handleCloseButton();\n  addRecipeView.handleRecipeUpload(controlRecipeUploads);\n  handleActiveRecipe();\n  model.loadUserGeneratedRecipes();\n})();\n"],"names":["async","$bd02c871d9c5ba8e$export$a75c676177490cac","response","result","json","$bd02c871d9c5ba8e$export$83e74882c5df8fe1","s","Promise","_","reject","setTimeout","Error","$bd02c871d9c5ba8e$export$3f4842f2f1334009","previews","document","querySelectorAll","forEach","type","window","addEventListener","preview","classList","remove","children","getAttribute","location","hash","add","$bd02c871d9c5ba8e$export$a7d84d2b6f198104","querySelector","lastElement","length","console","log","$bd02c871d9c5ba8e$export$360b655040bb4f6f","update","height","overflow","bookmarkContainer","style","$5a5485322a6fe8c0$export$2e2bcd8739ae039","constructor","publisher","ingredients","source_url","recipe_id","image_url","title","bookmarked","userGenerated","cookingTime","this","setBookmarked","$0f1d4402dffacf5b$var$localStorage","localStorage","$0f1d4402dffacf5b$var$bookmarks","$0f1d4402dffacf5b$var$userGeneratedRecipes","$0f1d4402dffacf5b$export$ece45715dce47d5b","id","bookmarks","JSON","parse","getItem","index","$0f1d4402dffacf5b$var$isBookmarked","bookmark","$0f1d4402dffacf5b$var$getBookmarkById","$0f1d4402dffacf5b$var$getUserGeneratedRecipeById","race","fetch","recipe","error","$0f1d4402dffacf5b$export$f1b9a9bec1b8accb","$0f1d4402dffacf5b$export$8158880fae77cfe9","data","obj","Object","entries","filter","array","test","map","$0f1d4402dffacf5b$var$getIngredientsArray","sourceUrl","Date","now","toString","image","push","setItem","stringify","$b2d7157267813d3a$export$2e2bcd8739ae039","_parentElement","_message","_errorMessage","_clean","innerHTML","renderSpinner","insertAdjacentHTML","renderErrorMessage","icon","message","html","$d14dc0f178617192$export$2e2bcd8739ae039","_recipe","_bookmarkButton","render","bookmarkIcon","_generateIngredientsHTML","addHandlerRender","handler","e","handleBookmarks","bookmarkButton","target","closest","href","contains","toggle","setAttribute","ingredient","join","$813cf99795e9ec97$export$2e2bcd8739ae039","addHandlerSearch","preventDefault","getquery","query","value","$55de0101703cf940$export$8bd7c8f79ac0b373","recipes","$dddbd0b30676c4ae$export$2e2bcd8739ae039","_paginationButtons","_recipes","_totalPages","_currentPage","_calculatePagination","_getCurrentRecipesHTML","_generatePaginationButtons","_handlePagination","Math","ceil","resultsView","button","pagination","next","prev","start","end","slice","super","$c5eab150e9f25972$export$2e2bcd8739ae039","count","$e5dc5dc5ede8bdf4$export$2e2bcd8739ae039","handleAddRecipe","addRecipeWindow","overlay","handleCloseButton","closeButton","form","element","_clearInputs","input","handleRecipeUpload","fromEntries","FormData","$f50bd1f2915ed0f2$var$controlRecipes","recipeId","substring","$f50bd1f2915ed0f2$var$controlBookmarks","$f50bd1f2915ed0f2$var$controlQueries","$0f1d4402dffacf5b$export$1d4697229d48b402","userData","toLowerCase","indexOf","$0f1d4402dffacf5b$export$f2457b806fd33300","$0f1d4402dffacf5b$export$72009cc673d27d80","position","splice","$0f1d4402dffacf5b$export$2db69b245b3902c8","$f50bd1f2915ed0f2$var$controlRecipeUploads"],"version":3,"file":"index.d90efabc.js.map"}